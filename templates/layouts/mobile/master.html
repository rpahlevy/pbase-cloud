<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta content="IE=edge" http-equiv="X-UA-Compatible">
        <meta content="width=device-width, initial-scale=1" name="viewport">

        {% include 'layouts/title.html' %}

        <!-- Custom fonts for this template-->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css?family=Nunito|Oswald" rel="stylesheet">

        <!-- Custom styles for this template-->
        <link href="{{asset('css/bootstrap.min.css')}}" rel="stylesheet">
        <link href="{{asset('css/app.css?v=3')}}" rel="stylesheet">
        <style>
            [v-cloak] {
                display: none;
            }

            .logger-sn-circle {
                font-family: 'Oswald', sans-serif;
                font-size: 90%;
            }

            /*theme dark*/
            .theme-dark .nav {
                background-color: #6c757d;
            }
            .theme-dark .nav-link,
            .theme-dark .btn-link {
                color: white;
            }
            .theme-dark .nav-link.active {
                background-color: #343a40;
            }
            /*.theme-dark .logger-sn-circle {
                background-color: white;
                color: #343a40;
            }*/
            .theme-dark,
            .theme-dark .modal-content,
            .theme-dark .form-control,
            .theme-dark .list-group-item-action,
            .theme-dark .input-group-text {
                background-color: #343a40;
                color: white;
            }
            .theme-dark .list-group-item-action {
                border-color: #6c757d;
            }            

            /*theme light*/
            .theme-light .nav {
                background-color: #6c757d;
            }
            .theme-light .nav-link {
                color: white;
            }
            .theme-light .btn-link {
                color: #343a40;
            }
            .theme-light .nav-link.active {
                background-color: white;
                color: #343a40;
            }
            /*.theme-light .logger-sn-circle {
                background-color: #6c757d;
                color: white;
            }*/
            .theme-light,
            .theme-light .modal-content,
            .theme-light .form-control,
            .theme-light .list-group-item-action,
            .theme-light .input-group-text {
                background-color: white;
                color: #343a40;
            }
            .theme-light .list-group-item-action {
                border-color: #6c757d;
            }
            
            .dropdown-toggle.noicon::after {
                content: unset;
            }
        </style>

        {% block css %}{% endblock %}
    </head>

    <body id="page-top" class="theme-dark">

        <!-- Page Wrapper -->
        <div id="wrapper">

            {% if user() %}
                {% include 'layouts/mobile/navbar.html' %}
            {% endif %}

            <!-- Content Wrapper -->
            <div class="" id="content-wrapper">

                <!-- Main Content -->
                <div class="" id="content">

                    <!-- Begin Page Content -->
                    {% block content %}{% endblock %}
                    <!-- /.container-fluid -->

                </div>
                <!-- End of Main Content -->

            </div>
            <!-- End of Content Wrapper -->

            <div class="py-4">&nbsp;</div>
            <div class="fixed-bottom px-3 py-3 text-right">
                <div class="dropdown">
                    <button class="btn btn-lg btn-primary dropdown-toggle noicon" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="border-radius: 50%;">
                        <i class="fas fa-brush"></i>
                    </button>
                    <div class="dropdown-menu theme-dark" aria-labelledby="dropdownMenu2">
                        <div class="d-flex justify-content-between align-items-center px-4 py-2">
                            <button class="btn btn-sm btn-secondary font-size-min">-</button>
                            <span class="mx-3">Font size</span>
                            <button class="btn btn-sm btn-secondary font-size-plus">+</button>
                        </div>
                        <div class="d-flex align-items-center px-4 py-2">
                            <span>Theme</span>
                            <button class="btn btn-sm bg-secondary border border-dark ml-auto px-3 theme-change">&nbsp;</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <!-- End of Page Wrapper -->

        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <!-- <script src="https://cdn.jsdelivr.net/npm/vue"></script> -->
        <script src="{{ asset('js/moment.min.js') }}"></script>
        <script src="{{ asset('js/id.js') }}"></script>
        <script src="{{asset('js/jquery.min.js')}}"></script>
        <script src="{{asset('js/bootstrap.bundle.min.js')}}"></script>

        <script>
            moment.locale('id');
            Vue.options.delimiters = ['{[{', '}]}'];

            $(function () {
                initTheme();
                initSizeText();

                $('.font-size-min').on('click', function (e) {
                    if (e) {
                        e.stopPropagation();
                    }

                    resizeText(-1);
                });

                $('.font-size-plus').on('click', function (e) {
                    if (e) {
                        e.stopPropagation();
                    }

                    resizeText(1);
                });

                $('.theme-change').on('click', function (e) {
                    if (e) {
                        e.stopPropagation();
                    }

                    var activeTheme = localStorage['activeTheme'] || 'dark';
                    activeTheme = activeTheme === 'light' ? 'dark' : 'light';
                    changeTheme(activeTheme);
                });
            })

            function initTheme() {
                var activeTheme = localStorage['activeTheme'] || 'dark';
                changeTheme(activeTheme);
            }

            function changeTheme(theme) {
                if (theme === 'light') {
                    $('.theme-dark').removeClass('theme-dark').addClass('theme-light');
                    $('.theme-change').removeClass('bg-secondary').addClass('bg-white');
                } else {
                    $('.theme-light').removeClass('theme-light').addClass('theme-dark');
                    $('.theme-change').removeClass('bg-white').addClass('bg-secondary');
                }

                localStorage['activeTheme'] = theme;
            }

            function initSizeText() {
                var resizeTextCounter = localStorage['resizeTextCounter'] || 1;
                resizeText(resizeTextCounter, false);
            }

            function resizeText(multiplier, updateCounter) {
                if (typeof updateCounter === typeof undefined) {
                    updateCounter = true;
                }

                if (updateCounter) {
                    var resizeTextCounter = parseInt(localStorage['resizeTextCounter'] || 1);
                    resizeTextCounter += multiplier;
                    localStorage['resizeTextCounter'] = resizeTextCounter;
                }

                var elements = ['body', '.form-control', '.fas', '.dropdown-menu', '.btn'];
                for (var element of elements) {
                    var size = $(element).css('fontSize');
                    if (size) {
                        size = parseFloat(size) + (multiplier * 1) + "px";
                        $(element).css('fontSize', size);
                    }
                }
                return;
                if (document.body.style.fontSize == "") {
                    document.body.style.fontSize = "1.0rem";
                }

                document.body.style.fontSize = parseFloat(document.body.style.fontSize) + (multiplier * 0.2) + "rem";
            }
        </script>

        {% include 'includes/toastr.html' %}

        {% block js %}{% endblock %}

    </body>

</html>
