/*! https://github.com/leeoniya/uPlot (v1.1.0) */
var uPlot=function(){"use strict";function n(n,e,t,r){var o;t=t||0;for(var i=2147483647>=(r=r||e.length-1);r-t>1;)n>e[o=i?t+r>>1:a((t+r)/2)]?t=o:r=o;return n-e[t]>e[r]-n?r:t}function e(n,e,t){return t?(n=c(10,a(v(n))),e=c(10,u(v(e)))):(n=x(n,c(10,a(v(n)))),e=g(e,c(10,a(v(e))))),[+n.toFixed(12),+e.toFixed(12)]}function t(n,e,t,r){var o=e-n,l=o||i(e)||1e3,u=v(l),s=c(10,a(u)),f=l*t,h=e+f,m=b(x(n-f,s/100)),p=b(g(h,s/100));return r&&(0==o?e>0?m=0:0>e&&(p=0):(n>=0&&0>m&&(m=0),0>=e&&p>0&&(p=0))),[m,p]}var r=new Intl.NumberFormat(navigator.language).format,o=Math,i=o.abs,a=o.floor,l=o.round,u=o.ceil,s=o.min,f=o.max,c=o.pow,v=o.log10,h=o.PI;function m(n,e){return l(n/e)*e}function p(n,e,t){return s(f(n,e),t)}function d(n){return"function"==typeof n?n:function(){return n}}function g(n,e){return u(n/e)*e}function x(n,e){return a(n/e)*e}function w(n){return l(1e3*n)/1e3}function b(n){return l(1e6*n)/1e6}function y(n,e,t){for(var r=[],o=n;e>o;o++)for(var a=c(10,o),l=0;t.length>l;l++)r.push(+(t[l]*a).toFixed(i(o)));return r}var M=Array.isArray;function k(n){return"object"==typeof n&&null!==n}function S(n){var e;if(M(n))e=n.map(S);else if(k(n))for(var t in e={},n)e[t]=S(n[t]);else e=n;return e}function T(n){for(var e=arguments,t=1;e.length>t;t++){var r=e[t];for(var o in r)k(n[o])?T(n[o],S(r[o])):n[o]=S(r[o])}return n}var D="width",Y="height",E="top",_="left",z=requestAnimationFrame,W=document,F=window,A=devicePixelRatio;function C(n,e){null!=e&&n.classList.add(e)}function H(n,e,t){n.style[e]=t+"px"}function P(n,e,t,r){var o=W.createElement(n);return null!=e&&C(o,e),null!=t&&t.insertBefore(o,r),o}function N(n,e){return P("div",n,e)}function I(n,e,t){n.style.transform="translate("+e+"px,"+t+"px)"}var V={passive:!0};function L(n,e,t){e.addEventListener(n,t,V)}function B(n,e,t){e.removeEventListener(n,t,V)}var O=["January","February","March","April","May","June","July","August","September","October","November","December"],R=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function U(n){return n.slice(0,3)}var j=R.map(U),J=O.map(U),G={MMMM:O,MMM:J,WWWW:R,WWW:j};function Z(n){return(10>n?"0":"")+n}var q={YYYY:function(n){return n.getFullYear()},YY:function(n){return(n.getFullYear()+"").slice(2)},MMMM:function(n,e){return e.MMMM[n.getMonth()]},MMM:function(n,e){return e.MMM[n.getMonth()]},MM:function(n){return Z(n.getMonth()+1)},M:function(n){return n.getMonth()+1},DD:function(n){return Z(n.getDate())},D:function(n){return n.getDate()},WWWW:function(n,e){return e.WWWW[n.getDay()]},WWW:function(n,e){return e.WWW[n.getDay()]},HH:function(n){return Z(n.getHours())},H:function(n){return n.getHours()},h:function(n){var e=n.getHours();return 0==e?12:e>12?e-12:e},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},a:function(n){return 12>n.getHours()?"a":"p"},mm:function(n){return Z(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return Z(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function X(n,e){e=e||G;for(var t,r=[],o=/\{([a-z]+)\}|[^{]+/gi;t=o.exec(n);)r.push("{"==t[0][0]?q[t[1]]:t[0]);return function(n){for(var t="",o=0;r.length>o;o++)t+="string"==typeof r[o]?r[o]:r[o](n,e);return t}}var K=(new Intl.DateTimeFormat).resolvedOptions().timeZone,Q=[1,2,5],$=y(-12,0,Q),nn=y(0,12,Q),en=$.concat(nn),tn=3600,rn=86400,on=30*rn,an=365*rn,ln=[5e-4].concat(y(-3,0,Q),[1,5,10,15,30,60,300,600,900,1800,tn,7200,3*tn,4*tn,6*tn,8*tn,43200,rn,2*rn,3*rn,4*rn,5*rn,6*rn,7*rn,8*rn,9*rn,10*rn,15*rn,on,2*on,3*on,4*on,6*on,an,2*an,5*an,10*an,25*an,50*an,100*an]);function un(n,e){return n.map((function(n){return[n[0],e(n[1]),n[2],e(n[4]?n[1]+n[3]:n[3])]}))}var sn="{M}/{D}",fn="\n"+sn,cn="{h}:{mm}{aa}",vn=[[an,"{YYYY}",7,"",1],[28*rn,"{MMM}",7,"\n{YYYY}",1],[rn,sn,7,"\n{YYYY}",1],[tn,"{h}{aa}",4,fn,1],[60,cn,4,fn,1],[1,":{ss}",2,fn+" "+cn,1],[.001,":{ss}.{fff}",2,fn+" "+cn,1]];function hn(n,e){return function(t,r,o,i,a){var l=e.find((function(n){return a>=n[0]}))||e[e.length-1],u=null,s=null,f=null;return r.map((function(e){var t=n(e),r=t.getFullYear(),o=t.getDate(),i=t.getMinutes(),a=r!=u,c=o!=s,v=i!=f;return u=r,s=o,f=i,(7==l[2]&&a||4==l[2]&&c||2==l[2]&&v?l[3]:l[1])(t)}))}}function mn(n,e,t){return new Date(n,e,t)}function pn(n,e){return e(n)}function dn(n,e){return function(t,r){return e(n(r))}}var gn={show:!0,x:!0,y:!0,lock:!1,points:{show:function(n,e){var t=n.series[e],r=N();r.style.background=t.stroke||"#000";var o=Cn(t.width,1),i=(o-1)/-2;return H(r,D,o),H(r,Y,o),H(r,"marginLeft",i),H(r,"marginTop",i),r}},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,_x:!1,_y:!1},focus:{prox:-1},locked:!1,left:-10,top:-10,idx:null,dataIdx:function(n,e,t){return t}},xn={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},wn=T({},xn,{size:10}),bn='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',yn="bold "+bn,Mn={type:"x",show:!0,scale:"x",space:50,gap:5,size:50,labelSize:30,labelFont:yn,side:2,grid:xn,ticks:wn,font:bn,rotate:0},kn={show:!0,scale:"x",sorted:1,min:1/0,max:-1/0,idxs:[]};function Sn(n,e){return e.map(r)}function Tn(n,e,t,r,o,i,a){for(var l=[],u=t=a?t:+g(t,o).toFixed(12);r>=u;u=+(u+o).toFixed(12))l.push(u);return l}function Dn(n,e,t,r,o){var i=[];o=c(10,a(v(t)));var l=t;do{i.push(l),10*o>(l=+(l+o).toFixed(12))||(o=l)}while(r>=l);return i}var Yn=/./,En=/[12357]/,_n=/[125]/,zn=/1/;function Wn(n,e,t){var o=n.axes[t],i=o.scale,a=n.valToPos,l=o.space(),u=a(10,i),s=a(9,i)-u<l?a(7,i)-u<l?a(5,i)-u<l?zn:_n:En:Yn;return e.map((function(n){return s.test(n)?r(n):""}))}function Fn(n,e){return r(e)}var An={type:"y",show:!0,scale:"y",space:40,gap:5,size:50,labelSize:30,labelFont:yn,side:3,grid:xn,ticks:wn,font:bn,rotate:0};function Cn(n,e){return w((3+2*(n||1))*e)}var Hn={scale:"y",sorted:0,show:!0,band:!1,spanGaps:!1,alpha:1,points:{show:function(n,e){var t=Cn(n.series[e].width,A),r=n.series[0].idxs;return n.bbox.width/t/2>=r[1]-r[0]}},values:null,min:1/0,max:-1/0,idxs:[],path:null,clip:null},Pn={time:!0,auto:!0,distr:1,min:null,max:null},Nn=T({},Pn,{time:!1}),In={};function Vn(){var n=[];return{sub:function(e){n.push(e)},unsub:function(e){n=n.filter((function(n){return n!=e}))},pub:function(e,t,r,o,i,a,l){n.length>1&&n.forEach((function(n){n!=t&&n.pub(e,t,r,o,i,a,l)}))}}}function Ln(n,e,t,r){return(r?[n[0],n[1]].concat(n.slice(2)):[n[0]].concat(n.slice(1))).map((function(n,r){return Bn(n,r,e,t)}))}function Bn(n,e,t,r){return T({},0==e||n&&n.side%2==0?t:r,n)}function On(n,e){return 3==e.distr?v(n/e.min)/v(e.max/e.min):(n-e.min)/(e.max-e.min)}function Rn(n,e,t,r){return r+(1-On(n,e))*t}function Un(n,e,t,r){return r+On(n,e)*t}function jn(n,e,t){return[e,t>e?t:t+86400]}function Jn(n,e,t){var r=t-e;if(0==r){var o=v(r||i(t)||1),l=a(o)+1;return[e,g(t,c(10,l))]}return[e,t]}function Gn(n,e,r){return t(e,r,.1,!0)}function Zn(n,t,r){return e(t,r)}function qn(n,t,r){return e(t,r)}function Xn(n){return 0==n.button}function Kn(n){var e;return[n=n.replace(/\d+/,(function(n){return e=l(n*A)})),e]}function Qn(e,t,r){var o={},u=o.root=N("uplot");null!=e.id&&(u.id=e.id),C(u,e.class),e.title&&(N("u-title",u).textContent=e.title);var x=P("canvas"),y=o.ctx=x.getContext("2d"),k=N("u-wrap",u),V=N("u-under",k);k.appendChild(x);var O=N("u-over",k);((e=S(e)).plugins||[]).forEach((function(n){n.opts&&(e=n.opts(o,e)||e)}));var R=!1,U=o.series=Ln(e.series||[],kn,Hn,!1),j=o.axes=Ln(e.axes||[],Mn,An,!0),J=o.scales=T({},{x:Pn,y:Nn},e.scales),G=T({x:l(An.size/2),y:l(Mn.size/3)},e.gutters),Z=e.tzDate||function(n){return new Date(1e3*n)},q=e.fmtDate||X,K=function(n){return function(e,t,r,o,i,l){var u=[],s=i>=on&&an>i,f=n(r),c=f/1e3,v=mn(f.getFullYear(),f.getMonth(),s?1:f.getDate()),h=v/1e3;if(s)for(var m=i/on,p=c==h?c:mn(v.getFullYear(),v.getMonth()+m,1)/1e3,d=new Date(1e3*p),x=d.getFullYear(),y=d.getMonth(),M=0;o>=p;M++){var k=mn(x,y+m*M,1);(p=(+k+(k-n(k/1e3)))/1e3)>o||u.push(p)}else{var S=rn>i?i:rn,T=h+(a(r)-a(c))+g(c-h,S);u.push(T);for(var D=n(T),Y=D.getHours()+D.getMinutes()/60+D.getSeconds()/tn,E=i/tn,_=l/e.axes[t].space();;){T=w(T+i);var z=a(b(Y+E))%24,W=n(T).getHours()-z;if(W>1&&(W=-1),(T-=W*tn)>o)break;Y=(Y+E)%24,.7>w((T-u[u.length-1])/i)*_||u.push(T)}}return u}}(Z),Q=hn(Z,un(vn,q)),$=dn(Z,pn("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",q)),sn={};for(var fn in J){var cn=J[fn];null==cn.min&&null==cn.max||(sn[fn]={min:cn.min,max:cn.max})}var xn,wn,bn=T({show:!0},e.legend).show,yn=[],Yn=!1;if(bn){xn=P("table","u-legend",u);var En=U[1]?U[1].values:null;if(Yn=null!=En){var _n=P("tr","u-thead",xn);for(var zn in P("th",null,_n),wn=En(o,1,0))P("th","u-label",_n).textContent=zn}else wn={_:0},C(xn,"u-inline")}var On=o.cursor=T({},gn,e.cursor);On.points.show=d(On.points.show);var Qn=o.focus=T({},e.focus||{alpha:.3},On.focus),$n=Qn.prox>=0,ne=[null];function ee(n,e){var t=n.scale,r=J[t]=T({},0==e?Pn:Nn,J[t]),i=r.time,a=3==r.distr;r.range=d(r.range||(i?jn:0==e?a?Zn:Jn:a?qn:Gn));var l=n.value;if(n.value=i?function(n){return"string"==typeof n}(l)?dn(Z,pn(l,q)):l||$:l||Fn,n.label=n.label||(i?"Time":"Value"),e>0){n.width=null==n.width?1:n.width,n.paths=n.paths||He;var u=Cn(n.width,1);n.points=T({},{size:u,width:f(1,.2*u)},n.points),n.points.show=d(n.points.show),n._paths=null}if(bn&&yn.splice(e,0,function(n,e){if(0==e&&Yn)return null;var t=[],r=P("tr","u-series",xn,xn.childNodes[e]);C(r,n.class),n.show||C(r,"u-off");var o=P("th",null,r),i=N("u-marker",o);n.width&&(i.style.borderColor=n.stroke),i.style.backgroundColor=n.fill;var a=N("u-label",o);for(var l in a.textContent=n.label,e>0&&(L("click",o,(function(e){On.locked||Xn(e)&&Xe(U.indexOf(n),{show:!n.show},Mt.setSeries)})),$n&&L("mouseenter",o,(function(){On.locked||Xe(U.indexOf(n),{focus:!0},Mt.setSeries)}))),wn){var u=P("td","u-value",r);u.textContent="--",t.push(u)}return t}(n,e)),On.show){var s=function(n,e){if(e>0){var t=On.points.show(o,e);if(t)return C(t,"u-cursor-pt"),C(t,n.class),I(t,-10,-10),O.insertBefore(t,ne[e]),t}}(n,e);s&&ne.splice(e,0,s)}}o.addSeries=function(n,e){n=Bn(n,e=null==e?U.length:e,kn,Hn),U.splice(e,0,n),ee(U[e],e)},o.delSeries=function(n){U.splice(n,1),bn&&yn.splice(n,1)[0][0].parentNode.remove(),ne.length>1&&ne.splice(n,1)[0].remove()},U.forEach(ee);var te,re=U[0].scale,oe=J[re].distr;for(var ie in J){var ae=J[ie];null!=ae.from&&(J[ie]=T({},J[ae.from],ae))}j.forEach((function(n){if(n.show){var e=J[n.scale];null==e&&(n.scale=n.side%2?U[1].scale:re,e=J[n.scale]);var t=e.time;n.space=d(n.space),n.rotate=d(n.rotate),n.incrs=d(n.incrs||(2==e.distr?nn:t?ln:en)),n.splits=d(n.splits||(t&&1==e.distr?K:3==e.distr?Dn:Tn));var r=n.values;n.values=t?M(r)?hn(Z,un(r,q)):r||Q:r||(3==e.distr?Wn:Sn),n.font=Kn(n.font),n.labelFont=Kn(n.labelFont)}}));var le,ue,se,fe,ce,ve,he,me,pe,de,ge=null,xe=null,we=U[0].idxs,be=null;function ye(n,e){if((n=n||[])[0]=n[0]||[],o.data=n,t=n.slice(),te=(be=t[0]).length,2==oe&&(t[0]=be.map((function(n,e){return e}))),Ie(),yt("setData"),!1!==e){var r=J[re];r.auto?Me():qe(re,r.min,r.max)}}function Me(){ge=we[0]=0,xe=we[1]=te-1,qe(re,2==oe?ge:t[0][ge],2==oe?xe:t[0][xe])}function ke(n,e,t,r){y.strokeStyle=n||"#000",y.lineWidth=e,y.lineJoin="round",y.setLineDash(t||[]),y.fillStyle=r||"#000"}function Se(n,e){o.width=le=se=n,o.height=ue=fe=e,ce=ve=0,function(){var n=!1,e=!1,t=!1,r=!1;j.forEach((function(o){if(o.show){var i=o.side,a=i%2,l=o.size+(o.labelSize=null!=o.label?o.labelSize||30:0);l>0&&(a?(se-=l,3==i?(ce+=l,r=!0):t=!0):(fe-=l,0==i?(ve+=l,n=!0):e=!0))}})),(n||e)&&(t||(se-=G.x),r||(se-=G.x,ce+=G.x)),(r||t)&&(e||(fe-=G.y),n||(fe-=G.y,ve+=G.y))}(),function(){var n=ce+se,e=ve+fe,t=ce,r=ve;function o(o,i){switch(o){case 1:return(n+=i)-i;case 2:return(e+=i)-i;case 3:return(t-=i)+i;case 0:return(r-=i)+i}}j.forEach((function(n){var e=n.side;n._pos=o(e,n.size),null!=n.label&&(n._lpos=o(e,n.labelSize))}))}();var t=o.bbox;he=t[_]=m(ce*A,.5),me=t.top=m(ve*A,.5),pe=t[D]=m(se*A,.5),de=t[Y]=m(fe*A,.5),H(V,_,ce),H(V,E,ve),H(V,D,se),H(V,Y,fe),H(O,_,ce),H(O,E,ve),H(O,D,se),H(O,Y,fe),H(k,D,le),H(k,Y,ue),x[D]=l(le*A),x[Y]=l(ue*A),ft(),R&&qe(re,J[re].min,J[re].max),R&&yt("setSize")}function Te(){if(tt)ot=!0;else{if(te>0){var e=S(J);for(var r in e){var i=e[r],a=sn[r];null!=a?(T(i,a),r==re&&Ie()):r!=re&&(i.min=1/0,i.max=-1/0)}for(var l in U.forEach((function(r,i){var a=r.scale,l=e[a];if(0==i){var u=l.range(o,l.min,l.max,a);l.min=u[0],l.max=u[1],ge=n(l.min,t[0]),xe=n(l.max,t[0]),l.min>t[0][ge]&&ge++,t[0][xe]>l.max&&xe--,r.min=be[ge],r.max=be[xe]}else if(r.show&&null==sn[a]){var c=r.min==1/0?l.auto?function(n,e,t,r){var o=1/0,i=-1/0;if(1==r)o=n[e],i=n[t];else if(-1==r)o=n[t],i=n[e];else for(var a=e;t>=a;a++)null!=n[a]&&(o=s(o,n[a]),i=f(i,n[a]));return[o,i]}(t[i],ge,xe,r.sorted):[0,100]:[r.min,r.max];l.min=s(l.min,r.min=c[0]),l.max=f(l.max,r.max=c[1])}r.idxs[0]=ge,r.idxs[1]=xe})),e){var u=e[l];if(null==u.from&&u.min!=1/0&&null==sn[l]){var c=u.range(o,u.min,u.max,l);u.min=c[0],u.max=c[1]}}for(var v in e){var h=e[v];if(null!=h.from){var m=e[h.from];if(m.min!=1/0){var p=h.range(o,m.min,m.max,v);h.min=p[0],h.max=p[1]}}}var d={};for(var g in e){var x=e[g],w=J[g];w.min==x.min&&w.max==x.max||(w.min=x.min,w.max=x.max,d[g]=!0)}for(var b in U.forEach((function(n){d[n.scale]&&(n._paths=null)})),d)yt("setScale",b)}for(var y in sn)sn[y]=null;On.show&&ut()}}o.setData=ye,o.bbox={},o.setSize=function(n){Se(n.width,n.height)};var De,Ye,Ee,_e,ze,We,Fe,Ae=1;function Ce(n,e,t){var r=n[n.length-1];r&&r[0]==e?r[1]=t:n.push([e,t])}function He(n,e,r,o){var i,a,u=U[e],c=t[0],v=t[e],h=J[re],m=J[u.scale],p=1==Ae?{stroke:new Path2D,fill:null,clip:null}:U[e-1]._paths,d=p.stroke,g=w(u[D]*A),x=1/0,b=-1/0,y=[],M=l(Un(c[1==Ae?r:o],h,pe,he));u.band&&1==Ae&&r==ge&&(g&&d.lineTo(-g,l(Rn(v[r],m,de,me))),c[0]>h.min&&y.push([he,M-1]));for(var k=1==Ae?r:o;k>=r&&o>=k;k+=Ae){var S=l(Un(c[k],h,pe,he));if(S==M)null!=v[k]&&(i=l(Rn(v[k],m,de,me)),x=s(i,x),b=f(i,b));else{var T=!1;x!=1/0?(d.lineTo(M,x),d.lineTo(M,b),d.lineTo(M,i),a=M):T=!0,null!=v[k]?(i=l(Rn(v[k],m,de,me)),d.lineTo(S,i),x=b=i,S-M>1&&null==v[k-1]&&(T=!0)):(x=1/0,b=-1/0),T&&Ce(y,a,S),M=S}}if(null==v[o]&&Ce(y,a,M),u.band){var Y,E,_=100*g;-1==Ae&&r==ge&&(E=he-_,Y=r),1==Ae&&o==xe&&(E=he+pe+_,Y=o,h.max>c[te-1]&&y.push([M,he+pe])),d.lineTo(E,l(Rn(v[Y],m,de,me)))}if(1==Ae&&(p.clip=function(n,e,t,r){var o=null;if(e.length>0){if(U[n].spanGaps){var i=e[0],a=e[e.length-1];e=[],t&&e.push(i),r&&e.push(a)}o=new Path2D;for(var l=he,u=0;e.length>u;u++){var s=e[u];o.rect(l,me,s[0]-l,me+de),l=s[1]}o.rect(l,me,he+pe-l,me+de)}return o}(e,y,null==v[r],null==v[o]),null!=u.fill)){var z=p.fill=new Path2D(d),W=l(Rn(0,m,de,me));z.lineTo(he+pe,W),z.lineTo(he,W)}return u.band&&(Ae*=-1),p}function Pe(n,e,t,r){var i,a=j[n];if(r>0){var l=a.space(o,n,e,t,r);i=function(n,e,t,r){for(var o=t/n,i=0;e.length>i;i++){var a=e[i]*o;if(a>=r)return[e[i],a]}}(t-e,a.incrs(o,n,e,t,r,l),r,l)}else i=[0,0];return i}function Ne(n,e,t,r,o,i,a,l){var u=i%2/2;y.translate(u,u),ke(a,i,l),y.beginPath();var s,f,c,v,h=r+(0==t||3==t?-o:o);0==e?(f=r,v=h):(s=r,c=h),n.forEach((function(n){0==e?s=c=n:f=v=n,y.moveTo(s,f),y.lineTo(c,v)})),y.stroke(),y.translate(-u,-u)}function Ie(){U.forEach((function(n,e){e>0&&(n.min=1/0,n.max=-1/0,n._paths=null)}))}function Ve(){tt?rt=!0:(y.clearRect(0,0,x[D],x[Y]),yt("drawClear"),function(){j.forEach((function(n,e){if(n.show){var t=J[n.scale];if(t.min!=1/0){var r=n.side,i=r%2,a=t.min,u=t.max,s=Pe(e,a,u,0==i?se:fe),f=s[0],c=s[1],v=n.splits(o,e,a,u,f,c,2==t.distr),m=0==i?Un:Rn,p=0==i?pe:de,d=0==i?he:me,g=v.map((function(n){return l(m(n,t,p,d))})),x=l(n.gap*A),b=n.ticks,M=b.show?l(b.size*A):0,k=n.values(o,2==t.distr?v.map((function(n){return be[n]})):v,e,c,2==t.distr?be[v[1]]-be[v[0]]:f),S=2==r?n.rotate(o,k,e,c)*-h/180:0,T=l(n._pos*A),Y=T+(M+x)*(0==i&&0==r||1==i&&3==r?-1:1),z=0==i?Y:0,W=1==i?Y:0;y.font=n.font[0],y.fillStyle=n.stroke||"#000",y.textAlign=S>0?_:0>S?"right":0==i?"center":3==r?"right":_,y.textBaseline=S||1==i?"middle":2==r?E:"bottom";var F=1.5*n.font[1];if(k.forEach((function(n,e){0==i?W=g[e]:z=g[e],(""+n).split(/\n/gm).forEach((function(n,e){S?(y.save(),y.translate(W,z+e*F),y.rotate(S),y.fillText(n,0,0),y.restore()):y.fillText(n,W,z+e*F)}))})),n.label){y.save();var C=l(n._lpos*A);1==i?(W=z=0,y.translate(C,l(me+de/2)),y.rotate((3==r?-h:h)/2)):(W=l(he+pe/2),z=C),y.font=n.labelFont[0],y.textAlign="center",y.textBaseline=2==r?E:"bottom",y.fillText(n.label,W,z),y.restore()}b.show&&Ne(g,i,r,T,M,w(b[D]*A),b.stroke);var H=n.grid;H.show&&Ne(g,i,0==i?2:1,0==i?me:he,0==i?de:pe,w(H[D]*A),H.stroke,H.dash)}}})),yt("drawAxes")}(),function(){U.forEach((function(n,e){if(e>0&&n.show&&te>0&&null==n._paths){var r=function(n){for(var e=p(ge-1,0,te-1),t=p(xe+1,0,te-1);null==n[e]&&e>0;)e--;for(;null==n[t]&&te-1>t;)t++;return[e,t]}(t[e]);n._paths=n.paths(o,e,r[0],r[1])}})),U.forEach((function(n,e){e>0&&n.show&&(n._paths&&function(n){var e=U[n];if(1==Ae){var t=e._paths,r=t.stroke,o=t.fill,i=t.clip,a=w(e[D]*A),l=a%2/2;ke(e.stroke,a,e.dash,e.fill),y.globalAlpha=e.alpha,y.translate(l,l),y.save();var u=he,s=me,f=pe,c=de,v=a*A/2;0==e.min&&(c+=v),0==e.max&&(s-=v,c+=v),y.beginPath(),y.rect(u,s,f,c),y.clip(),null!=i&&y.clip(i),e.band?(y.fill(r),a&&y.stroke(r)):(a&&y.stroke(r),null!=e.fill&&y.fill(o)),y.restore(),y.translate(-l,-l),y.globalAlpha=1}e.band&&(Ae*=-1)}(e),n.points.show(o,e,ge,xe)&&function(n){var e=U[n],r=e.points,o=w(r.width*A),i=o%2/2,a=r.width>0,u=(r.size-r.width)/2*A,s=w(2*u);y.translate(i,i),y.save(),y.beginPath(),y.rect(he-s,me-s,pe+2*s,de+2*s),y.clip(),y.globalAlpha=e.alpha;for(var f=new Path2D,c=ge;xe>=c;c++)if(null!=t[n][c]){var v=l(Un(t[0][c],J[re],pe,he)),m=l(Rn(t[n][c],J[e.scale],de,me));f.moveTo(v+u,m),f.arc(v,m,u,0,2*h)}ke(r.stroke||e.stroke||"#000",o,null,r.fill||(a?"#fff":e.stroke||"#000")),y.fill(f),a&&y.stroke(f),y.globalAlpha=1,y.restore(),y.translate(-i,-i)}(e),yt("drawSeries",e))}))}(),De=!0,yt("draw"))}function Le(e,r){var o=J[e];if(null==o.from){if(e==re&&(2==o.distr&&(r.min=n(r.min,t[0]),r.max=n(r.max,t[0])),o.time&&j[0].show&&r.max>r.min&&.001>Pe(0,r.min,r.max,se)[0]))return;sn[e]=r,De=!1,Te(),!De&&Ve(),De=!1}}o.redraw=function(n){!1!==n?qe(re,J[re].min,J[re].max):Ve()},o.setScale=Le;var Be=!1,Oe=On.drag,Re=Oe.x,Ue=Oe.y;On.show&&(On.x&&(We=On.left,Ye=N("u-cursor-x",O)),On.y&&(Fe=On.top,Ee=N("u-cursor-y",O)));var je=o.select=T({show:!0,left:0,width:0,top:0,height:0},e.select),Je=je.show?N("u-select",O):null;function Ge(n,e){if(je.show){for(var t in n)H(Je,t,je[t]=n[t]);!1!==e&&yt("setSelect")}}function Ze(n){var e=bn?yn[n][0].parentNode:null;U[n].show?e&&function(n){n.classList.remove("u-off")}(e):(e&&C(e,"u-off"),ne.length>1&&I(ne[n],0,-10))}function qe(n,e,t){Le(n,{min:e,max:t})}function Xe(n,e,t){var r=U[n];if(null!=e.focus&&function(n){n!=$e&&(U.forEach((function(e,t){!function(n,e){var t=U[n];Ke(n,e),t.band&&Ke(U[n+1].band?n+1:n-1,e)}(t,null==n||0==t||t==n?1:Qn.alpha)})),$e=n,Ve())}(n),null!=e.show){if(r.show=e.show,Ze(n),r.band){var i=U[n+1]&&U[n+1].band?n+1:n-1;U[i].show=r.show,Ze(i)}qe(re,J[re].min,J[re].max)}yt("setSeries",n,e),t&&St.pub("setSeries",o,n,e)}function Ke(n,e){U[n].alpha=e,bn&&(yn[n][0].parentNode.style.opacity=e)}o.setSelect=Ge,o.setSeries=Xe;var Qe=Array(U.length),$e=null;function nt(n,e){var t=se;e!=re&&(n=(t=fe)-n);var r=n/t,o=J[e],i=o.min,a=o.max;return 3==o.distr?(i=v(i),a=v(a),c(10,i+(a-i)*r)):i+(a-i)*r}function et(e){return n(nt(e,re),t[0],ge,xe)}bn&&$n&&L("mouseleave",xn,(function(){On.locked||(Xe(null,{focus:!1},Mt.setSeries),ut())})),o.valToIdx=function(e){return n(e,t[0])},o.posToIdx=et,o.posToVal=nt,o.valToPos=function(n,e,t){return e==re?Un(n,J[e],t?pe:se,t?he:0):Rn(n,J[e],t?de:fe,t?me:0)};var tt=!1,rt=!1,ot=!1,it=!1;function at(n){tt=!0,n(o),tt=!1,ot&&Te(),it&&ut(),rt&&!De&&Ve(),ot=it=rt=De=tt}o.batch=at,o.setCursor=function(n){We=n.left,Fe=n.top,ut()};var lt=0;function ut(n,e){if(tt)it=!0;else{var r;if(lt=0,On.show&&(On.x&&I(Ye,l(We),0),On.y&&I(Ee,0,l(Fe))),0>We||0==te||ge>xe){r=null;for(var a=0;U.length>a;a++)if(a>0&&(Qe[a]=1/0,ne.length>1&&I(ne[a],-10,-10)),bn){if(0==a&&Yn)continue;for(var u=0;yn[a].length>u;u++)yn[a][u].firstChild.nodeValue="--"}$n&&Xe(null,{focus:!0},Mt.setSeries)}else{r=et(We);for(var f=J[re],c=w(Un(t[0][r],f,se,0)),v=0;U.length>v;v++){var h=U[v],m=On.dataIdx(o,v,r),p=m==r?c:w(Un(t[0][m],f,se,0));if(v>0&&h.show){var d=t[v][m],g=null==d?-10:w(Rn(d,J[h.scale],fe,0));Qe[v]=g>0?i(g-Fe):1/0,ne.length>1&&I(ne[v],p,g)}else Qe[v]=1/0;if(bn){if(m==On.idx||0==v&&Yn)continue;var x=0==v&&2==oe?be:t[v],b=Yn?h.values(o,v,m):{_:h.value(o,x[m],v,m)},y=0;for(var M in b)yn[v][y++].firstChild.nodeValue=b[M]}}}if(je.show&&Be){var k=i(We-_e),S=i(Fe-ze);if(null!=e){var T=Mt.scales,z=T[0],W=T[1],F=e.cursor.drag;if(Re=F._x,Ue=F._y,z){var A=J[z],C=e.posToVal(e.select[_],z),P=e.posToVal(e.select[_]+e.select[D],z);je[_]=Un(C,A,se,0),je[D]=i(je[_]-Un(P,A,se,0)),H(Je,_,je[_]),H(Je,D,je[D]),W||(H(Je,E,je.top=0),H(Je,Y,je[Y]=fe))}if(W){var N=J[W],V=e.posToVal(e.select.top,W),L=e.posToVal(e.select.top+e.select[Y],W);je.top=Rn(V,N,fe,0),je[Y]=i(je.top-Rn(L,N,fe,0)),H(Je,E,je.top),H(Je,Y,je[Y]),z||(H(Je,_,je[_]=0),H(Je,D,je[D]=se))}}else{Re=Oe.x&&k>=Oe.dist,Ue=Oe.y&&S>=Oe.dist;var B=Oe.uni;if(null!=B?Re&&Ue&&(Ue=S>=B,(Re=k>=B)||Ue||(S>k?Ue=!0:Re=!0)):Oe.x&&Oe.y&&(Re||Ue)&&(Re=Ue=!0),Re){var O=s(_e,We);H(Je,_,je[_]=O),H(Je,D,je[D]=k),Ue||(H(Je,E,je.top=0),H(Je,Y,je[Y]=fe))}if(Ue){var j=s(ze,Fe);H(Je,E,je.top=j),H(Je,Y,je[Y]=S),Re||(H(Je,_,je[_]=0),H(Je,D,je[D]=se))}Re||Ue||(H(Je,Y,je[Y]=0),H(Je,D,je[D]=0))}}if(On.idx=r,On.left=We,On.top=Fe,Oe._x=Re,Oe._y=Ue,null!=n&&(St.pub("mousemove",o,We,Fe,se,fe,r),$n)){var G=s.apply(null,Qe),Z=null;G>Qn.prox||Qe.some((function(n,e){if(n==G)return Z=e})),Xe(Z,{focus:!0},Mt.setSeries)}R&&yt("setCursor")}}var st=null;function ft(){st=O.getBoundingClientRect()}function ct(n,e,t,r,o,i){On.locked||(vt(n,e,t,r,o,i,0,!1,null!=n),null!=n?0==lt&&(lt=z(ut)):ut(null,e))}function vt(n,e,t,r,o,i,a,l,u){if(null!=n)t=n.clientX-st.left,r=n.clientY-st.top;else{if(0>t||0>r)return We=-10,void(Fe=-10);var s=Mt.scales,f=s[0],c=s[1];t=null!=f?Un(e.posToVal(t,f),J[f],se,0):se*(t/o),r=null!=c?Rn(e.posToVal(r,c),J[c],fe,0):fe*(r/i)}u&&(t>1&&se-1>t||(t=m(t,se)),r>1&&fe-1>r||(r=m(r,fe))),l?(_e=t,ze=r):(We=t,Fe=r)}function ht(){Ge({width:0,height:0},!1)}function mt(n,e,t,r,i,a){(null!=e||Xn(n))&&(Be=!0,Re=Ue=Oe._x=Oe._y=!1,vt(n,e,t,r,i,a,0,!0,!1),null!=n&&(L("mouseup",W,pt),St.pub("mousedown",o,_e,ze,se,fe,null)))}function pt(n,e,t,r,i,a){if(null!=e||Xn(n)){Be=Oe._x=Oe._y=!1,vt(n,e,t,r,i,a,0,!1,!0);var l=je[D]>0||je[Y]>0;l&&Ge(je),Oe.setScale&&l?(at((function(){if(Re&&qe(re,nt(je[_],re),nt(je[_]+je[D],re)),Ue)for(var n in J)n!=re&&null==J[n].from&&qe(n,nt(je.top+je[Y],n),nt(je.top,n))})),ht()):On.lock&&(On.locked=!On.locked,On.locked||ut())}null!=n&&(B("mouseup",W,pt),St.pub("mouseup",o,We,Fe,se,fe,null))}function dt(){if(!On.locked){var n=Be;if(Be){var e=!0,t=!0;if(Re&&Ue&&(e=10>=We||We>=se-10,t=10>=Fe||Fe>=fe-10),Re&&e){var r=We,o=se-We,i=s(r,o);i==r&&(We=0),i==o&&(We=se)}if(Ue&&t){var a=Fe,l=fe-Fe,u=s(a,l);u==a&&(Fe=0),u==l&&(Fe=fe)}ut(1),Be=!1}We=-10,Fe=-10,ut(1),n&&(Be=n)}}function gt(n){Me(),ht(),null!=n&&St.pub("dblclick",o,We,Fe,se,fe,null)}var xt,wt={};wt.mousedown=mt,wt.mousemove=ct,wt.mouseup=pt,wt.dblclick=gt,wt.setSeries=function(n,e,t,r){Xe(t,r)},On.show&&(L("mousedown",O,mt),L("mousemove",O,ct),L("mouseenter",O,ft),L("mouseleave",O,(function(){z(dt)})),L("dblclick",O,gt),xt=function(n){var e=null;function t(){e=null,n()}return function(){clearTimeout(e),e=setTimeout(t,100)}}(ft),L("resize",F,xt),L("scroll",F,xt),o.syncRect=ft);var bt=o.hooks=e.hooks||{};function yt(n,e,t){n in bt&&bt[n].forEach((function(n){n.call(null,o,e,t)}))}(e.plugins||[]).forEach((function(n){for(var e in n.hooks)bt[e]=(bt[e]||[]).concat(n.hooks[e])}));var Mt=T({key:null,setSeries:!1,scales:[re,null]},On.sync),kt=Mt.key,St=null!=kt?In[kt]=In[kt]||Vn():Vn();function Tt(){Se(e[D],e[Y]),yt("init",e,t),ye(t||e.data,!1),sn[re]?Le(re,sn[re]):Me(),Ge(je,!1),R=!0,yt("ready")}return St.sub(o),o.pub=function(n,e,t,r,o,i,a){wt[n](null,e,t,r,o,i,a)},o.destroy=function(){St.unsub(o),B("resize",F,xt),B("scroll",F,xt),u.remove(),yt("destroy")},r?r instanceof HTMLElement?(r.appendChild(u),Tt()):r(o,Tt):Tt(),o}return Qn.assign=T,Qn.fmtNum=r,Qn.rangeNum=t,Qn.rangeLog=e,Qn.fmtDate=X,Qn.tzDate=function(n,e){var t;return"Etc/UTC"==e?t=new Date(+n+6e4*n.getTimezoneOffset()):e==K?t=n:(t=new Date(n.toLocaleString("en-US",{timeZone:e}))).setMilliseconds(n.getMilliseconds()),t},Qn}();
